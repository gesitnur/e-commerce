<div class='col-md-6 offset-md-3'>
<br/>
    <h3>Profile</h3>
    <nav>
        <div class="nav nav-tabs" id="nav-tab" role="tablist">
            <button class="nav-link active" id="nav-home-tab" data-bs-toggle="tab" data-bs-target="#nav-home" type="button" role="tab" aria-controls="nav-home" aria-selected="true">Profile</button>
            <button class="nav-link" id="nav-profile-tab" data-bs-toggle="tab" data-bs-target="#nav-profile" type="button" role="tab" aria-controls="nav-profile" aria-selected="false">Alamat</button>
            <button class="nav-link" id="nav-shop-tab" data-bs-toggle="tab" data-bs-target="#nav-shop" type="button" role="tab" aria-controls="nav-shop" aria-selected="false" <%= current_user.has_role?(:customer) ? 'hidden' : '' %>>Toko</button>
        </div>
    </nav>
    <div class="tab-content" id="nav-tabContent">
        <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab"><br/>
            <br/>
            <div class='form-group'>
                <label for="name">Nama</label>
                <input type="text" value="<%= current_user.name %>" class="form-control" disabled>
            </div>
            <div class='form-group'>
                <label for="name">Email</label>
                <input type="text" value="<%= current_user.email %>" class="form-control" disabled>
            </div>
            <div class='form-group'>
                <label for="name">No Telepon</label>
                <input type="text" value="<%= current_user.phone %>" class="form-control" disabled>
            </div>
            <div class='form-group'>
                <label for="name">Kota</label>
                <input type="text" value="<%= current_user.city %>" class="form-control" disabled>
            </div>
            <br/>
            <%= link_to 'Edit Profile', edit_profile_path(current_user), class:'btn btn-secondary mb-3' %>
            <br/>
            <br/>
        </div>
    
        <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab"><br/>
                <%= link_to "Tambah Alamat", new_address_path, class:"btn btn-primary" %>
                <table class="table">
                    <thead>
                        <tr>
                        <th scope="col">No</th>
                        <th scope="col">Alamat</th>
                        <th scope="col"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <% current_user.addresses.each_with_index do |t, key| %>
                            <tr>
                            <td width="10%"><%= key+1 %></td>
                            <td width="60%"><%= t.address %></td>
                            <td><%= link_to 'Edit', edit_address_path(t), class:'btn btn-secondary' %>&nbsp;
                                <%= link_to 'Hapus', address_path(t), data: { "turbo-method": :delete, confirm: "Are you sure?"} , class:'btn btn-danger' %>
                            </td>
                            </tr>
                        <% end %>
                    </tbody>
                </table> 

                
                <br/>
                <br/>
        </div>

        
    
        <div class="tab-pane fade" id="nav-shop" role="tabpanel" aria-labelledby="nav-shop-tab"><br/>
            <br/>
            <div class='form-group'>
                <label for="name">Nama Toko</label>
                <input type="text" value="<%= current_user.vendor ? current_user.vendor.name : '' %>" class="form-control" disabled>
            </div>
            <div class='form-group'>
                <label for="name">Kota</label>
                <input type="text" value="<%= current_user.vendor ? current_user.vendor.city : '' %>" class="form-control" disabled>
            </div>
            <br/>
            <%= link_to 'Edit Toko', edit_shop_path(current_user), class:'btn btn-secondary mb-3' %>                
            <br/>
            <br/>
        </div>
    
    </div>



    

    

    
</div>